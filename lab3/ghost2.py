import pygame
from pygame.draw import *

pygame.init()
FPS = 30
screen = pygame.display.set_mode((666, 865))

sur1 = pygame.Surface((666, 865))
sur1.set_alpha(100)
sur2 = pygame.Surface((666, 865))
sur2.set_alpha(100)

#небо и облака между домами
rect(screen, (0, 0, 0), (0, 0, 666, 865))
ellipse(sur2, (102, 102, 102), (291, 437, 520, 63))
ellipse(sur2, (102, 102, 102), (0, 499, 343, 59))

#большое привидение на трех слоях
polygon(sur1, (179, 179, 179), ([555, 693], [561, 693], [599, 722], [615, 737], [637, 756], [640, 781], [633, 787], [622, 789],
                                  [611, 798], [608, 810], [601, 824], [581, 824], [568, 822], [511, 830], [535, 845], [522, 846],
                                  [505, 826], [485, 815], [452, 820], [465, 798], [468, 788], [487, 761], [487, 753], [495, 739], [500, 715], [555, 693]))
polygon(sur1, (0, 0, 0), ([555, 693], [561, 693], [599, 722], [615, 737], [637, 756], [640, 781], [633, 787], [622, 789],
                                  [611, 798], [608, 810], [601, 824], [581, 824], [568, 822], [511, 830], [535, 845], [522, 846],
                                  [505, 826], [485, 815], [452, 820], [465, 798], [468, 788], [487, 761], [487, 753], [495, 739], [500, 715], [555, 693]), 3)
circle(sur1, (179, 179, 179), (527, 700), 30)
circle(sur1, (135, 205, 222), (512, 702), 8)
circle(sur1, (135, 205, 222), (539, 697), 8)
circle(sur1, (0, 0, 0), (509, 701), 3)
circle(sur1, (0, 0, 0), (537, 696), 3)
line(sur1, (255, 255, 255), [517, 696], [511, 699], 2)
line(sur1, (255, 255, 255), [543, 691], [538, 695], 2)
polygon(sur2, (179, 179, 179), ([555, 693], [561, 693], [599, 722], [615, 737], [637, 756], [640, 781], [633, 787], [622, 789],
                                  [611, 798], [608, 810], [601, 824], [581, 824], [568, 822], [511, 830], [535, 845], [522, 846],
                                  [505, 826], [485, 815], [452, 820], [465, 798], [468, 788], [487, 761], [487, 753], [495, 739], [500, 715], [555, 693]))
polygon(sur2, (0, 0, 0), ([555, 693], [561, 693], [599, 722], [615, 737], [637, 756], [640, 781], [633, 787], [622, 789],
                                  [611, 798], [608, 810], [601, 824], [581, 824], [568, 822], [511, 830], [535, 845], [522, 846],
                                  [505, 826], [485, 815], [452, 820], [465, 798], [468, 788], [487, 761], [487, 753], [495, 739], [500, 715], [555, 693]), 3)
circle(sur2, (179, 179, 179), (527, 700), 30)
circle(sur2, (135, 205, 222), (512, 702), 8)
circle(sur2, (135, 205, 222), (539, 697), 8)
circle(sur2, (0, 0, 0), (509, 701), 3)
circle(sur2, (0, 0, 0), (537, 696), 3)
line(sur2, (255, 255, 255), [517, 696], [511, 699], 2)
line(sur2, (255, 255, 255), [543, 691], [538, 695], 2)
polygon(screen, (179, 179, 179), ([555, 693], [561, 693], [599, 722], [615, 737], [637, 756], [640, 781], [633, 787], [622, 789],
                                  [611, 798], [608, 810], [601, 824], [581, 824], [568, 822], [511, 830], [535, 845], [522, 846],
                                  [505, 826], [485, 815], [452, 820], [465, 798], [468, 788], [487, 761], [487, 753], [495, 739], [500, 715], [555, 693]))
polygon(screen, (0, 0, 0), ([555, 693], [561, 693], [599, 722], [615, 737], [637, 756], [640, 781], [633, 787], [622, 789],
                                  [611, 798], [608, 810], [601, 824], [581, 824], [568, 822], [511, 830], [535, 845], [522, 846],
                                  [505, 826], [485, 815], [452, 820], [465, 798], [468, 788], [487, 761], [487, 753], [495, 739], [500, 715], [555, 693]), 3)
circle(screen, (179, 179, 179), (527, 700), 30)
circle(screen, (135, 205, 222), (512, 702), 8)
circle(screen, (135, 205, 222), (539, 697), 8)
circle(screen, (0, 0, 0), (509, 701), 3)
circle(screen, (0, 0, 0), (537, 696), 3)
line(screen, (255, 255, 255), [517, 696], [511, 699], 2)
line(screen, (255, 255, 255), [543, 691], [538, 695], 2)

#дополнительная яркость привидений
k = -1
m = 751
n = -173
polygon(sur1, (179, 179, 179), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]))
polygon(sur1, (0, 0, 0), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]), 2)
circle(sur1, (179, 179, 179), (134*k+m, 789+n), 13)
circle(sur1, (135, 205, 222), (127*k+m, 787+n), 3)
circle(sur1, (135, 205, 222), (141*k+m, 790+n), 3)
circle(sur1, (0, 0, 0), (127*k+m, 787+n), 1)
circle(sur1, (0, 0, 0), (141*k+m, 790+n), 1)
k = 1
m = -25
n = -46
polygon(sur1, (179, 179, 179), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]))
polygon(sur1, (0, 0, 0), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]), 2)
circle(sur1, (179, 179, 179), (134*k+m, 789+n), 13)
circle(sur1, (135, 205, 222), (127*k+m, 787+n), 3)
circle(sur1, (135, 205, 222), (141*k+m, 790+n), 3)
circle(sur1, (0, 0, 0), (127*k+m, 787+n), 1)
circle(sur1, (0, 0, 0), (141*k+m, 790+n), 1)
#маленькие привидения вправо
a = [-25, 0, 583, 751, 732]
b = [-46, 0, -63, -173, -219]
for i in range (2):
    k = 1
    m = a[i]
    n = b[i]
    polygon(sur2, (179, 179, 179), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]))
    polygon(sur2, (0, 0, 0), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]), 2)
    circle(sur2, (179, 179, 179), (134*k+m, 789+n), 13)
    circle(sur2, (135, 205, 222), (127*k+m, 787+n), 3)
    circle(sur2, (135, 205, 222), (141*k+m, 790+n), 3)
    circle(sur2, (0, 0, 0), (127*k+m, 787+n), 1)
    circle(sur2, (0, 0, 0), (141*k+m, 790+n), 1)
#маленькие привидения влево
for i in range (2, 5):
    k = -1
    m = a[i]
    n = b[i]
    polygon(sur2, (179, 179, 179), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]))
    polygon(sur2, (0, 0, 0), ([118*k+m, 785+n], [112*k+m, 786+n], [99*k+m, 797+n], [95*k+m, 799+n], [83*k+m, 810+n],
                                  [73*k+m, 820+n], [72*k+m, 834+n], [82*k+m, 837+n], [87*k+m, 841+n], [93*k+m, 855+n], [114*k+m, 855+n],
                                  [131*k+m, 870+n], [145*k+m, 856+n], [154*k+m, 851+n], [172*k+m, 853+n], [165*k+m, 841+n], [164*k+m, 836+n],
                                  [157*k+m, 826+n], [154*k+m, 817+n], [149*k+m, 810+n], [146*k+m, 796+n], [118*k+m, 785+n]), 2)
    circle(sur2, (179, 179, 179), (134*k+m, 789+n), 13)
    circle(sur2, (135, 205, 222), (127*k+m, 787+n), 3)
    circle(sur2, (135, 205, 222), (141*k+m, 790+n), 3)
    circle(sur2, (0, 0, 0), (127*k+m, 787+n), 1)
    circle(sur2, (0, 0, 0), (141*k+m, 790+n), 1)
    
#небо
rect(screen, (152, 152, 152), (0, 0, 666, 393))
rect(sur1, (152, 152, 152), (0, 0, 666, 393))
ellipse(screen, (0, 0, 0), (325, 203, 418, 60))
ellipse(sur2, (26, 26, 26), (325, 203, 418, 60))
ellipse(sur2, (52, 52, 52), (111, 360, 706, 56))

#верхний правый дом
m = 257
n = -124
rect(sur1, (54, 46, 18), (226+m, 347+n, 177, 244))
rect(sur1, (40, 40, 40), (332+m, 305+n, 6, 27))
polygon(sur1, (0, 0, 0), ([237+m, 328+n], [211+m, 347+n], [420+m, 347+n], [390+m, 328+n]))
rect(sur1, (40, 40, 40), (376+m, 304+n, 6, 36))
rect(sur1, (40, 40, 40), (262+m, 285+n, 12, 55))
rect(sur1, (40, 40, 40), (252+m, 303+n, 6, 36))
rect(sur1, (78, 69, 64), (240+m, 347+n, 19, 92))
rect(sur1, (78, 69, 64), (274+m, 347+n, 19, 92))
rect(sur1, (78, 69, 64), (319+m, 347+n, 19, 92))
rect(sur1, (78, 69, 64), (364+m, 347+n, 19, 92))
rect(sur1, (36, 14, 0), (246+m, 520+n, 33, 42))
rect(sur1, (36, 14, 0), (301+m, 520+n, 33, 42))
rect(sur1, (212, 170, 0), (350+m, 520+n, 33, 42))
rect(sur1, (35, 35, 35), (215+m, 421+n, 4, 23))
rect(sur1, (35, 35, 35), (219+m, 410+n, 194, 11))
rect(sur1, (35, 35, 35), (237+m, 419+n, 10, 27))
rect(sur1, (35, 35, 35), (269+m, 419+n, 10, 27))
rect(sur1, (35, 35, 35), (304+m, 419+n, 10, 27))
rect(sur1, (35, 35, 35), (341+m, 419+n, 10, 27))
rect(sur1, (35, 35, 35), (378+m, 419+n, 10, 27))
rect(sur1, (35, 35, 35), (413+m, 421+n, 4, 27))
rect(sur1, (35, 35, 35), (208+m, 442+n, 216, 25))

screen.blit(sur1, (0, 0))

#центральный дом
m = 0
n = 0
rect(screen, (54, 46, 18), (226+m, 347+n, 177, 244))
rect(screen, (40, 40, 40), (332+m, 305+n, 6, 27))
polygon(screen, (0, 0, 0), ([237+m, 328+n], [211+m, 347+n], [420+m, 347+n], [390+m, 328+n]))
rect(screen, (40, 40, 40), (376+m, 304+n, 6, 36))
rect(screen, (40, 40, 40), (262+m, 285+n, 12, 55))
rect(screen, (40, 40, 40), (252+m, 303+n, 6, 36))
rect(screen, (78, 69, 64), (240+m, 347+n, 19, 92))
rect(screen, (78, 69, 64), (274+m, 347+n, 19, 92))
rect(screen, (78, 69, 64), (319+m, 347+n, 19, 92))
rect(screen, (78, 69, 64), (364+m, 347+n, 19, 92))
rect(screen, (36, 14, 0), (246+m, 520+n, 33, 42))
rect(screen, (36, 14, 0), (301+m, 520+n, 33, 42))
rect(screen, (212, 170, 0), (350+m, 520+n, 33, 42))
rect(screen, (35, 35, 35), (215+m, 421+n, 4, 23))
rect(screen, (35, 35, 35), (219+m, 410+n, 194, 11))
rect(screen, (35, 35, 35), (237+m, 419+n, 10, 27))
rect(screen, (35, 35, 35), (269+m, 419+n, 10, 27))
rect(screen, (35, 35, 35), (304+m, 419+n, 10, 27))
rect(screen, (35, 35, 35), (341+m, 419+n, 10, 27))
rect(screen, (35, 35, 35), (378+m, 419+n, 10, 27))
rect(screen, (35, 35, 35), (413+m, 421+n, 4, 27))
rect(screen, (35, 35, 35), (208+m, 442+n, 216, 25))

screen.blit(sur2, (0, 0))

#объекты на небе
circle(screen, (230,230, 230), (597, 81), 57)
ellipse(screen, (51, 51, 51), (32, 88, 521, 63))
ellipse(screen, (77, 77, 77), (292, 56, 376, 67))
ellipse(screen, (77, 77, 77), (394, 132, 412, 59))

#нижний левый дом
m = -210
n = 88
rect(screen, (54, 46, 18), (226+m, 347+n, 177, 244))
rect(screen, (40, 40, 40), (332+m, 305+n, 6, 27))
polygon(screen, (0, 0, 0), ([237+m, 328+n], [211+m, 347+n], [420+m, 347+n], [390+m, 328+n]))
rect(screen, (40, 40, 40), (376+m, 304+n, 6, 36))
rect(screen, (40, 40, 40), (262+m, 285+n, 12, 55))
rect(screen, (40, 40, 40), (252+m, 303+n, 6, 36))
rect(screen, (78, 69, 64), (240+m, 347+n, 19, 92))
rect(screen, (78, 69, 64), (274+m, 347+n, 19, 92))
rect(screen, (78, 69, 64), (319+m, 347+n, 19, 92))
rect(screen, (78, 69, 64), (364+m, 347+n, 19, 92))
rect(screen, (36, 14, 0), (246+m, 520+n, 33, 42))
rect(screen, (36, 14, 0), (301+m, 520+n, 33, 42))
rect(screen, (212, 170, 0), (350+m, 520+n, 33, 42))
rect(screen, (25, 25, 25), (215+m, 421+n, 4, 23))
rect(screen, (25, 25, 25), (219+m, 410+n, 194, 11))
rect(screen, (25, 25, 25), (237+m, 419+n, 10, 27))
rect(screen, (25, 25, 25), (269+m, 419+n, 10, 27))
rect(screen, (25, 25, 25), (304+m, 419+n, 10, 27))
rect(screen, (25, 25, 25), (341+m, 419+n, 10, 27))
rect(screen, (25, 25, 25), (378+m, 419+n, 10, 27))
rect(screen, (25, 25, 25), (413+m, 421+n, 4, 27))
rect(screen, (25, 25, 25), (208+m, 442+n, 216, 25))

pygame.display.update()
clock = pygame.time.Clock()


while True:
    clock.tick(FPS)
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
